<!DOCTYPE html>
<html>
  <head>
  </head>
  <body>
    <div id='root'> </div>
    <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone@7.8.3/babel.js"></script>
    <script type="text/babel">

    /* function App() {
      const [count, setCount] = React.useState(0);

    const some = React.useMemo(() => {
        console.log("This");
        document.title = `You clicked ${count} times`;
        return count;
      }, [count]);

      return (
        <div>
          <p>You clicked {count} times</p>
          <button onClick={() => setCount(count + 1)}>
            Click me
          </button>

          <button onClick={() => setCount(count - 1)}>
            Click me
          </button>
        </div>
      );
    } */
    function ExampleChild({ callbackFunction }) {
  const [value, setValue] = React.useState(0);

  React.useEffect(() => {
      console.log("child");
    setValue(value + 1)
  }, [callbackFunction]);

  return (<p>Child: {value}</p>);
}

function ExampleParent() {
  const [count, setCount] = React.useState(0);
  const [another, setAnother] = React.useState(0);
  
  const countCallback = React.useCallback(() => {
      console.log("Call Back");
    return count;
  }, [count]);

  const countCallback2 = React.useCallback(() => {
      console.log("Call Back 2");
    return count;
  }, [another]);
  
  return (
    <div>
      <ExampleChild callbackFunction={countCallback2} />
      <button onClick={() => setCount(count + 1)}>
        Change callback
      </button>
      
      <button onClick={() => setAnother(another + 1)}>
        Do not change callback
      </button>
    </div>
  )
}



    ReactDOM.render(<ExampleParent />,document.getElementById("root"));
    </script>
  </body>
</html>
